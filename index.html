<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Text Anthony Violante</title>

  <!-- Responsive + iOS safe areas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#000000" />
  <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)" />

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://app.superphone.io/favicon.ico" type="image/x-icon">

  <!-- Fonts + CSS -->
  <link href="https://fonts.googleapis.com/css?family=Oswald:300" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">

  <!-- Superphone / phone input CSS (from widget + iti) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/css/intlTelInput.css" integrity="sha512-gxWow8Mo6q6pLa1XH/CcH8JyiSDEtiwJV78E+D+QP0EVasFs8wKXq16G8CLD4CJ2SnonHr4Lm/yY2fSI2+cbmw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdn.superphone.io/widgets/widget.css" />

  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: #000 url("bg.jpg") no-repeat center top / cover;
      color: #fff;
      -webkit-tap-highlight-color: transparent;
    }

    * { font-family: Oswald, sans-serif; }

    .page-center {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100dvh;
      padding-bottom: env(safe-area-inset-bottom);
    }

    .landing-header h1 { font-weight: bold; margin-bottom: 10px; }

    #superphone-widget-landing-wrapper.superphone-widget.widget-landing {
      background-color: transparent !important;
    }

    #superphone-widget-title { color: #ffffff !important; letter-spacing: .5px; }
    #superphone-widget-description {
      color: #cfcfcf !important;
      font-size: 20px !important;   /* keep instruction line at 20px */
      line-height: 1.4;
      text-align: center;
      margin-top: 10px;
    }
    .superphone-form-control {
      background-color: #111 !important;
      color: #fff !important;
    }
    .superphone-send-button #submitButton {
      background: #CFB46E !important;
      color: #FFFFFF !important;
      border: 0 !important;
      text-transform: uppercase;
      letter-spacing: .5px;
    }

    /* Phone dropdown readability on dark theme */
    .iti__country-list { background-color: #fff !important; }
    .iti__country-list .iti__country-name,
    .iti__country-list .iti__dial-code { color: #000 !important; }
  </style>
</head>

<body>
  <div class="page-center">
    <div class="container">
      <div class="landing-header text-center">
        <h1>ANTHONY VIOLANTE</h1>
      </div>

      <!-- Superphone landing widget -->
      <div id="superphone-widget-page" style="background: transparent; font-family:Circular, Arial;">
        <div id="superphone-widget-wrapper">
          <div id="superphone-widget-landing-wrapper" class="superphone-widget widget-landing">
            <div id="superphone-widget-description">
              PLEASE ENTER YOUR PHONE NUMBER BELOW<br>
              AND I WILL SHOOT YOU A TEXT RIGHT BACK:
            </div>

            <form id="addContact" action="#" method="POST" autocomplete="off">
              <div id="superphone-input-wrapper">
                <div class="phone-input-wrapper">
                  <input
                    autocomplete="off"
                    tabindex="4"
                    type="tel"
                    class="superphone-form-control"
                    id="phone"
                    name="mobile"
                    placeholder="Mobile # (w/ country code)"
                  >
                </div>
                <div class="superphone-send-button">
                  <button type="submit" id="submitButton">Send</button>
                </div>
              </div>

              <div id="form-error-message" class="form-error" style="display:none;color:#fff;margin-top:8px;">
                <div>Something went wrong. Please check your mobile and try again.</div>
              </div>
              <div id="form-error-mobile" class="form-error" style="display:none;color:#fff;margin-top:8px;">
                Phone Number is not valid
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- /widget -->
    </div>
  </div>

  <!-- JS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

  <!-- Superphone widget core (bundles its own iti version) -->
  <script src="https://cdn.superphone.io/widgets/widget.min.js"></script>

  <!-- Widget config + safe US enforcement using intlTelInputGlobals -->
  <script>
    // Configure the widget
    window.sp = { widgetHash: 'ERbDAE', type: 'page' };

    // Gently force US AFTER the widget initializes its phone input.
    (function enforceUSCountrySafely() {
      var tries = 0, maxTries = 40;

      function getIti() {
        var input = document.getElementById('phone');
        if (!input || !window.intlTelInputGlobals) return null;
        return window.intlTelInputGlobals.getInstance(input) || null;
      }

      function setUSOnce() {
        var iti = getIti();
        if (!iti) return false;
        try { iti.setCountry('us'); } catch (e) {}
        return true;
      }

      function tick() {
        if (setUSOnce() || ++tries >= maxTries) return;
        setTimeout(tick, 150); // retry until the widget finishes attaching iti
      }

      // Start retries a moment after load
      window.addEventListener('load', function () { setTimeout(tick, 200); });

      // If the widget re-geo-detects on focus and flips it, we gently nudge back if empty
      document.addEventListener('focusin', function (e) {
        if (e.target && e.target.id === 'phone') {
          var iti = getIti();
          if (!iti) return;
          // only force back to US if user hasn't typed anything yet
          if ((e.target.value || '').trim() === '') {
            try { iti.setCountry('us'); } catch (e) {}
          }
        }
      });
    })();
  </script>

  <!-- Bootstrap JS (optional) -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
          integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
          crossorigin="anonymous"></script>
</body>
</html>
